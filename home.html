<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>zazu clicker</title>
</head>
<body>
    <p>zaza: <span id="contadas">0</span></p>
    <nav>
        <ul>
            <li><a href="welcom.html">store</a></li>
            <li><a href="noo.html">actually dont click</a></li>
        </ul>
    </nav>
    <header>
        <div class="center">
            <img src="images/me.jpeg" alt="Clique aqui" width="200" onclick="aumentarValor()" class="estica" id="zazu">
        </div>
        <div class="debbiemons">
            <img src="images/debbie.png" alt="Debbie" width="200" class="estica" id="debbie">
        </div>
        <audio id="dalgona" src="https://github.com/arthurlegal552/uncanny-zazu/raw/main/sounds/hotel.mp3" preload="auto"></audio>
        <audio id="mew" src="https://github.com/arthurlegal552/uncanny-zazu/raw/main/sounds/m-e-o-w.mp3" preload="auto"></audio>
        <div class="text">
            <h1>this is zazu</h1>
            <h2>you can click him for points</h2>
            <h3>click any button to start</h3>
        </div>

        <script>
            // Game state
            let valor = parseInt(localStorage.getItem("valor")) || 0;
            document.getElementById("contadas").textContent = valor;

            // Audio functions
            function playDalgona() {
                const dalgona = document.getElementById("dalgona");
                dalgona.pause();
                dalgona.currentTime = 0;
                dalgona.loop = true;
                dalgona.play();
            }

            function meow() {
                const mew = document.getElementById("mew");
                mew.pause();
                mew.currentTime = 0;
                mew.loop = false;
                mew.play();
            }

            // Game functions
            function aumentarValor() {
                valor += 1;
                meow();
                document.getElementById("contadas").textContent = valor;
                localStorage.setItem("valor", valor);
            }

            function atualizarDebbie() {
                const dabby = document.querySelector(".debbiemons img");
                if (localStorage.getItem("debbieComprado") === "true") {
                    dabby.style.display = "block";
                } else {
                    dabby.style.display = "none";
                }
            }

            // Random Events System
            const events = [
                {
                    name: "Rainbow Madness!",
                    action: () => {
                        document.body.classList.add("rainbow-bg");
                        setTimeout(() => document.body.classList.remove("rainbow-bg"), 10000);
                    }
                },
                {
                    name: "Earthquake!",
                    action: () => {
                        document.body.classList.add("shake-screen");
                        setTimeout(() => document.body.classList.remove("shake-screen"), 500);
                    }
                },
                {
                    name: "Zazu is floating away!",
                    action: () => {
                        const zazu = document.getElementById("zazu");
                        zazu.classList.add("float-up");
                        setTimeout(() => {
                            zazu.classList.remove("float-up");
                            zazu.style.transform = "none";
                        }, 5000);
                    }
                },
                {
                    name: "Debbie takes over!",
                    action: () => {
                        const debbie = document.getElementById("debbie");
                        debbie.style.transform = "scale(2)";
                        setTimeout(() => debbie.style.transform = "none", 3000);
                    }
                },
                {
                    name: "Click Frenzy! Points x2 for 10 seconds!",
                    action: () => {
                        const originalFn = aumentarValor;
                        aumentarValor = function() {
                            valor += 2;
                            meow();
                            document.getElementById("contadas").textContent = valor;
                            localStorage.setItem("valor", valor);
                        };
                        setTimeout(() => aumentarValor = originalFn, 10000);
                    }
                }
            ];

            function triggerRandomEvent() {
                const event = events[Math.floor(Math.random() * events.length)];
                
                // Create event notification
                const eventElement = document.createElement("div");
                eventElement.className = "random-event";
                eventElement.textContent = event.name;
                document.body.appendChild(eventElement);
                
                // Trigger event action
                event.action();
                
                // Remove notification after animation
                setTimeout(() => {
                    eventElement.remove();
                }, 5000);
                
                // Schedule next event
                setTimeout(triggerRandomEvent, 120000); // 2 minutes
            }

            // Initialize game
            atualizarDebbie();
            playDalgona();
            
            // Start random events after 2 minutes
            setTimeout(triggerRandomEvent, 10000);
        </script>
    </header>
</body>
</html>